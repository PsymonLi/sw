meta:
    name    : rdma_stress
    os      : [ linux, freebsd ]
    nics    : [ pensando, mellanox ]
    targetcount : 300

testcases:
    #=======================================
    # Init
    #=======================================
    -   name    : Insmod_Rdma_Spec
        testcase: testcases.rdma.insmod_rdma_spec
        args    :
            type: remote_only
            spec: '8'

    -   name    : Show_Gid
        testcase: testcases.rdma.show_gid
        args    :
            type: remote_only

    -   name    : Intf_Mtu
        testcase: testcases.rdma.intf_mtu
        args    :
            type: remote_only

    #=======================================
    # Multi Sge: 8x4 WQE format
    #=======================================
    -   name    : Rc_Fml_2Sge_Server
        testcase: testcases.rdma.multi_sge
        stress  : True
        ignore  : True
        iterators :
            type     : nested
            num_qp   : [1, 8]
            server   : [ 'yes']
            mtu      : [4096]
            size     : [8192, 16384, 32768, 65536, 8000, 16000, 32000, 64000]
            numsges  : [2]
            command  : ['ib_send_bw']

    -   name    : Rc_Fml_3Sge_Server
        testcase: testcases.rdma.multi_sge
        stress  : True
        ignore  : True
        iterators :
            type     : nested
            num_qp   : [1, 8]
            server   : [ 'yes']
            mtu      : [4096]
            size     : [12288, 24576, 12000, 24000]
            numsges  : [3]
            command  : ['ib_send_bw']

    -   name    : Rc_Fml_4Sge_Server
        testcase: testcases.rdma.multi_sge
        stress  : True
        ignore  : True
        iterators :
            type     : nested
            num_qp   : [1, 8]
            server   : [ 'yes']
            mtu      : [4096]
            size     : [8192, 16384, 32768, 65536, 16000, 32000, 64000]
            numsges  : [4]
            command  : ['ib_send_bw']

    -   name    : Rc_Fml_5Sge_Server
        testcase: testcases.rdma.multi_sge
        stress  : True
        ignore  : True
        iterators :
            type     : nested
            num_qp   : [1, 8]
            server   : [ 'yes']
            mtu      : [4096]
            size     : [20480, 20000, 10000]
            numsges  : [5]
            command  : ['ib_send_bw']

    -   name    : Rc_Fml_6Sge_Server
        testcase: testcases.rdma.multi_sge
        stress  : True
        ignore  : True
        iterators :
            type     : nested
            num_qp   : [1, 8]
            server   : [ 'yes']
            mtu      : [4096]
            size     : [12288, 24576, 24000]
            numsges  : [6]
            command  : ['ib_send_bw']

    -   name    : Rc_Fml_7Sge_Server
        testcase: testcases.rdma.multi_sge
        stress  : True
        ignore  : True
        iterators :
            type     : nested
            num_qp   : [1, 8]
            server   : [ 'yes']
            mtu      : [4096]
            size     : [28672, 28000, 7700]
            numsges  : [7]
            command  : ['ib_send_bw']

    -   name    : Rc_Fml_8Sge_Server
        testcase: testcases.rdma.multi_sge
        stress  : True
        ignore  : True
        iterators :
            type     : nested
            num_qp   : [1, 8]
            server   : [ 'yes']
            mtu      : [4096]
            size     : [16384, 32768, 65536, 32000, 64000]
            numsges  : [8]
            command  : ['ib_send_bw']

    -   name    : Rc_Only_2Sge_4Sge_Server
        testcase: testcases.rdma.multi_sge
        stress  : True
        ignore  : True
        iterators :
            type     : nested
            num_qp   : [1, 8]
            server   : [ 'yes']
            mtu      : [4096]
            size     : [4096, 4000]
            numsges  : [2, 4]
            command  : ['ib_send_bw']

    -   name    : Rc_Only_3Sge_Server
        testcase: testcases.rdma.multi_sge
        stress  : True
        ignore  : True
        iterators :
            type     : nested
            num_qp   : [1, 8]
            server   : [ 'yes']
            mtu      : [4096]
            size     : [4095, 3072, 3000]
            numsges  : [3]
            command  : ['ib_send_bw']

    #=======================================
    # Teardown
    #=======================================
    -   name    : Rmmod_Rdma
        testcase: testcases.rdma.rmmod_rdma
        args    :
            type: remote_only

