---
version: 2.0
image:
  bind_dir: "/sw"
  work_dir: "/sw/iota/test/standalone"

queue_name: compat

e2e-targets:
 e2e-windows-bm-dualnic:
   commands: ["sh", "-c", "make windows && ./run_iota.sh --testsuite transparent_basenet_windows --enable-multi-naples"]
   owners: ["email:srivatsa@pensando.io"]
   area:
   sub-area:
   feature:
   build-dependencies:
     - build-iris-arm
     - build-iota
   clusters:
     - image: build-42
       count: 2
       resources:
         servers:
           - type: compat-dell-r640
           - type: compat-dell-r740
         nic-type: naples
   provision:
       username: vm
       password: vm
       vars:
          BmOs: windows

 e2e-windows-bm-bonding-dualnic:
   commands: ["sh", "-c", "make windows && ./run_iota.sh --testsuite transparent_basenet_bond_windows --precheckin --skip-sanity --enable-multi-naples"]
   owners: ["email:srivatsa@pensando.io"]
   area:
   sub-area:
   feature:
   build-dependencies:
     - build-iris-arm
     - build-iota
   clusters:
     - image: build-42
       count: 2
       resources:
         servers:
           - type: compat-dell-r640
           - type: compat-dell-r740
         nic-type: naples
   provision:
       username: vm
       password: vm
       vars:
          BmOs: windows

logfiles:
  - /sw/iota/iota_sanity_logs.tar.gz
  - /sw/iota/all_corefiles.tgz
