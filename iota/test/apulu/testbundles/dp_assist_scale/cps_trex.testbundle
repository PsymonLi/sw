meta:
    name    : cps_trex
    os      : [ linux ]
    nics    : [ pensando ]

testcases:
    -   name    : CPS_UDP_Trex
        testcase: testcases.networking.trex_traffic
        stress  : False
        ignore  : False
        args    :
            type: remote_only
        iterators:
            type      : simple
            proto     : [ udp ]
            cps       : [ 465000 ]
            duration  : [ 1 ]

    -   name    : Longevity_TCP_Trex
        testcase: testcases.networking.trex_traffic
        stress  : False
        ignore  : True
        args    :
            type: remote_only
        iterators:
            type      : simple
            proto     : [ tcp, tcp ]
            cps       : [ 100000, 200 ]
            duration  : [ 10, 3000 ]

    -   name    : Triggers_UDP_TCP_Trex
        testcase: testcases.networking.trex_traffic
        stress  : True
        ignore  : False
        args    :
            type: remote_only
            objtype : [ subnet, vnic ]
            triggers : True
            security_profile:
                conntrack      : True
                tcpidletimeout : 90
                udpidletimeout : 90
        iterators:
            type      : nested
            proto     : [ udp, tcp ]
            cps       : [ 100000 ]
            duration  : [ 300 ]
        background_tasks:
            showStats        :
                trigger         : auto
                run             : repeat
                sleep_interval  : 20
                terminate       : verify
            switchPortFlap   :
                trigger         : auto
                run             : repeat
                sleep_interval  : 30
                terminate       : verify
            clearFlows       :
                trigger         : auto
                run             : repeat
                sleep_interval  : 90
                terminate       : verify
            showFlows        :
                trigger         : auto
                run             : repeat
                sleep_interval  : 30
                terminate       : verify
            configurationChangeEvent :
                trigger         : auto
                run             : repeat
                sleep_interval  : 20
                terminate       : verify

    -   name    : Vnic_Session_Limits_UDP_TCP_Trex
        testcase: testcases.networking.trex_traffic
        stress  : False
        args    :
            type: remote_only
            max_sessions: 4000
        iterators:
            type      : nested
            proto     : [ udp, tcp ]
            cps       : [ 1000 ]
            duration  : [ 10 ]

