meta:
    name    : upgrade_dsc_graceful
    os      : [ linux ]
    nics    : [ pensando, mellanox, intel ]
    targetcount : 1

testcases:
    -   name        : UPGRADE_DSC_GRACEFUL
        testcase    : testcases.upgrade.dsc_graceful
        stress      : True
        disable     : False
        ignore      : False
        iterators   :
            type    : nested
            option  : [""]
            selection : [ any, all ]  # upgrade all or any
        args        :
            sleep   : 150
        verifs:
            - step : verif.utils.collect_techsupport

    -   name        : UPGRADE_DSC_GRACEFUL_PKTLOSS_VERIFY
        testcase    : testcases.upgrade.dsc_graceful
        stress      : True
        disable     : False
        ignore      : False
        iterators   :
            type    : nested
            option  : [""]
            selection : [ any ]  # upgrade all or any
            workload_type : [ remote ]
            workload_scope : [ inter-subnet ]
        args        :
            type    : remote_only
            sleep   : 300
            pktloss_verify    : True
            allowed_down_time : 40
        verifs:
            - step : verif.utils.collect_techsupport
