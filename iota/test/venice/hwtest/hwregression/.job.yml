---
version: 2.0
image:
  bind_dir: "/go/src/github.com/pensando/sw"
  work_dir: "/go/src/github.com/pensando/sw"
rebase: true
queue_name: baremetal

# e2e-targets is the scheduler for CI runs to specify baremetal or virtual machine. 
e2e-targets:
  # baremetal + vm test case
 e2e-venice-2naples:
   commands: ["make", "-C", "iota/test/venice/hwtest/hwregression", "jobd"]
   owners: ["email:sw-team@pensando.io"]
   area:
   sub-area:
   feature:
   max-duration: 10h
   build-dependencies:
     - build-iris-arm
     - build-venice-image
   clusters:
     - image: build-115
       count: 3
       resources:
         cpus: 4
         memory: 8
         pvt-networks:
         - control-1
         - control-2
     - image: build-10
       count: 2
       resources:
         # server-type could be server-a or server-d
         server-type: server-a
         # nic-type is naples now. In the future, it can be mellanox, or raw, which means no special need
         nic-type: naples
   provision:
       username: vm
       password: vm
       vars:
          BmOs: esx
          VmOs: linux
          EsxUsername: root
          EsxPassword: Pen0trl!

logfiles:
  - /go/src/github.com/pensando/sw/iota/logs/venice-iota.tgz
