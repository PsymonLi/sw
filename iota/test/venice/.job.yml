---
version: 2.0
targets:
  mock-iota:
    commands: [ "bash", "-c", "pwd && ls -l && cd /go/src/github.com/pensando/sw && make ws-tools && make pull-assets && make palazzo && make -C iota && JOB_ID=1 MOCK_IOTA=1 go test ./iota/test/venice/testsuites/firewall/ -count 1 -p 1 -testbed /go/src/github.com/pensando/sw/iota/test/venice/example/warmd.json -v -ginkgo.v -timeout 60m" ]
    owners: ["email:shaleman@pensando.io"]
    area:
    sub-area:
    feature:
image:
  bind_dir: "/go/src/github.com/pensando/sw"
  work_dir: "/go/src/github.com/pensando/sw"
rebase: true

warmd:
  target:
    commands: ["make", "e2e-iota"]
    owners: ["email:shaleman@pensando.io"]
  create:
    image: build-112
    count: 6
    resources:
      cpus  : 8
      memory: 20
      pvt-networks:
            - control
      data-networks:
            - data-1
            - data-2
  provision:
    username: vm
    password: vm
    # additional vars to pass to ansible.
    vars:

logfiles:
  - /go/src/github.com/pensando/sw/iota/logs/venice-iota.tgz
