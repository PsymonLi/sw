---
version: 2.0
targets:

cache:
  name: "sw"
  mount_dir: "/root/.cache"
image:
  bind_dir: "/sw"
  work_dir: "/sw/nic"
rebase: true
queue_name: builder
logfiles:
  - /sw/nic/nic_sanity_logs.tar.gz
  - /sw/iota/iota_sanity_logs.tar.gz


# e2e-targets is the scheduler for CI runs to specify baremetal or virtual machine. 
e2e-targets:
  # baremetal + vm test case
  e2e-venice-2naples:
    commands: ["make", "jobd/iota/venice-bm"]
    owners: ["email:sudhiaithal@pensando.io"]
    #commands: [ "sh", "-c", "cat /warmd.json"]
    #owners: ["email:jobd@pensando.io"]
    area:
    sub-area:
    feature:
    clusters:
      - image: build-115
        count: 1
        resources:
          cpus: 4
          memory: 8
          pvt-networks:
          - control-1
          - control-2
      - image: build-4
        count: 2
        resources:
          # server-type could be server-a or server-d
          server-type: server-a
          # nic-type is naples now. In the future, it can be mellanox, or raw, which means no special need
          nic-type: naples
    provision:
        username: vm
        password: vm
        vars:
           BmOs: esx
           VmOs: linux
           EsxUsername: root
           EsxPassword: Pen0trl!
