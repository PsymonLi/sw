// Code generated by protoc-gen-grpc-pensando DO NOT EDIT.

package grpcclient

import (
	"context"
	"errors"
	oldlog "log"

	"github.com/go-kit/kit/endpoint"
	grpctransport "github.com/go-kit/kit/transport/grpc"
	"google.golang.org/grpc"

	api "github.com/pensando/sw/api"
	bookstore "github.com/pensando/sw/api/generated/bookstore"
	listerwatcher "github.com/pensando/sw/api/listerwatcher"
	apiserver "github.com/pensando/sw/venice/apiserver"
	"github.com/pensando/sw/venice/utils/kvstore"
	"github.com/pensando/sw/venice/utils/log"
	"github.com/pensando/sw/venice/utils/trace"
)

// Dummy vars to suppress import errors
var _ api.TypeMeta
var _ listerwatcher.WatcherClient
var _ kvstore.Interface

// NewBookstoreV1 sets up a new client for BookstoreV1
func NewBookstoreV1(conn *grpc.ClientConn, logger log.Logger) bookstore.ServiceBookstoreV1Client {

	var lAddOutageEndpoint endpoint.Endpoint
	{
		lAddOutageEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AddOutage",
			bookstore.EncodeGrpcReqOutageRequest,
			bookstore.DecodeGrpcRespStore,
			&bookstore.Store{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAddOutageEndpoint = trace.ClientEndPoint("BookstoreV1:AddOutage")(lAddOutageEndpoint)
	}
	var lApplydiscountEndpoint endpoint.Endpoint
	{
		lApplydiscountEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"Applydiscount",
			bookstore.EncodeGrpcReqApplyDiscountReq,
			bookstore.DecodeGrpcRespOrder,
			&bookstore.Order{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lApplydiscountEndpoint = trace.ClientEndPoint("BookstoreV1:Applydiscount")(lApplydiscountEndpoint)
	}
	var lAutoAddBookEndpoint endpoint.Endpoint
	{
		lAutoAddBookEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoAddBook",
			bookstore.EncodeGrpcReqBook,
			bookstore.DecodeGrpcRespBook,
			&bookstore.Book{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoAddBookEndpoint = trace.ClientEndPoint("BookstoreV1:AutoAddBook")(lAutoAddBookEndpoint)
	}
	var lAutoAddCouponEndpoint endpoint.Endpoint
	{
		lAutoAddCouponEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoAddCoupon",
			bookstore.EncodeGrpcReqCoupon,
			bookstore.DecodeGrpcRespCoupon,
			&bookstore.Coupon{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoAddCouponEndpoint = trace.ClientEndPoint("BookstoreV1:AutoAddCoupon")(lAutoAddCouponEndpoint)
	}
	var lAutoAddOrderEndpoint endpoint.Endpoint
	{
		lAutoAddOrderEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoAddOrder",
			bookstore.EncodeGrpcReqOrder,
			bookstore.DecodeGrpcRespOrder,
			&bookstore.Order{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoAddOrderEndpoint = trace.ClientEndPoint("BookstoreV1:AutoAddOrder")(lAutoAddOrderEndpoint)
	}
	var lAutoAddPublisherEndpoint endpoint.Endpoint
	{
		lAutoAddPublisherEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoAddPublisher",
			bookstore.EncodeGrpcReqPublisher,
			bookstore.DecodeGrpcRespPublisher,
			&bookstore.Publisher{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoAddPublisherEndpoint = trace.ClientEndPoint("BookstoreV1:AutoAddPublisher")(lAutoAddPublisherEndpoint)
	}
	var lAutoAddStoreEndpoint endpoint.Endpoint
	{
		lAutoAddStoreEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoAddStore",
			bookstore.EncodeGrpcReqStore,
			bookstore.DecodeGrpcRespStore,
			&bookstore.Store{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoAddStoreEndpoint = trace.ClientEndPoint("BookstoreV1:AutoAddStore")(lAutoAddStoreEndpoint)
	}
	var lAutoDeleteBookEndpoint endpoint.Endpoint
	{
		lAutoDeleteBookEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoDeleteBook",
			bookstore.EncodeGrpcReqBook,
			bookstore.DecodeGrpcRespBook,
			&bookstore.Book{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoDeleteBookEndpoint = trace.ClientEndPoint("BookstoreV1:AutoDeleteBook")(lAutoDeleteBookEndpoint)
	}
	var lAutoDeleteCouponEndpoint endpoint.Endpoint
	{
		lAutoDeleteCouponEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoDeleteCoupon",
			bookstore.EncodeGrpcReqCoupon,
			bookstore.DecodeGrpcRespCoupon,
			&bookstore.Coupon{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoDeleteCouponEndpoint = trace.ClientEndPoint("BookstoreV1:AutoDeleteCoupon")(lAutoDeleteCouponEndpoint)
	}
	var lAutoDeleteOrderEndpoint endpoint.Endpoint
	{
		lAutoDeleteOrderEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoDeleteOrder",
			bookstore.EncodeGrpcReqOrder,
			bookstore.DecodeGrpcRespOrder,
			&bookstore.Order{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoDeleteOrderEndpoint = trace.ClientEndPoint("BookstoreV1:AutoDeleteOrder")(lAutoDeleteOrderEndpoint)
	}
	var lAutoDeletePublisherEndpoint endpoint.Endpoint
	{
		lAutoDeletePublisherEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoDeletePublisher",
			bookstore.EncodeGrpcReqPublisher,
			bookstore.DecodeGrpcRespPublisher,
			&bookstore.Publisher{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoDeletePublisherEndpoint = trace.ClientEndPoint("BookstoreV1:AutoDeletePublisher")(lAutoDeletePublisherEndpoint)
	}
	var lAutoDeleteStoreEndpoint endpoint.Endpoint
	{
		lAutoDeleteStoreEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoDeleteStore",
			bookstore.EncodeGrpcReqStore,
			bookstore.DecodeGrpcRespStore,
			&bookstore.Store{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoDeleteStoreEndpoint = trace.ClientEndPoint("BookstoreV1:AutoDeleteStore")(lAutoDeleteStoreEndpoint)
	}
	var lAutoGetBookEndpoint endpoint.Endpoint
	{
		lAutoGetBookEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoGetBook",
			bookstore.EncodeGrpcReqBook,
			bookstore.DecodeGrpcRespBook,
			&bookstore.Book{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoGetBookEndpoint = trace.ClientEndPoint("BookstoreV1:AutoGetBook")(lAutoGetBookEndpoint)
	}
	var lAutoGetCouponEndpoint endpoint.Endpoint
	{
		lAutoGetCouponEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoGetCoupon",
			bookstore.EncodeGrpcReqCoupon,
			bookstore.DecodeGrpcRespCoupon,
			&bookstore.Coupon{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoGetCouponEndpoint = trace.ClientEndPoint("BookstoreV1:AutoGetCoupon")(lAutoGetCouponEndpoint)
	}
	var lAutoGetOrderEndpoint endpoint.Endpoint
	{
		lAutoGetOrderEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoGetOrder",
			bookstore.EncodeGrpcReqOrder,
			bookstore.DecodeGrpcRespOrder,
			&bookstore.Order{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoGetOrderEndpoint = trace.ClientEndPoint("BookstoreV1:AutoGetOrder")(lAutoGetOrderEndpoint)
	}
	var lAutoGetPublisherEndpoint endpoint.Endpoint
	{
		lAutoGetPublisherEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoGetPublisher",
			bookstore.EncodeGrpcReqPublisher,
			bookstore.DecodeGrpcRespPublisher,
			&bookstore.Publisher{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoGetPublisherEndpoint = trace.ClientEndPoint("BookstoreV1:AutoGetPublisher")(lAutoGetPublisherEndpoint)
	}
	var lAutoGetStoreEndpoint endpoint.Endpoint
	{
		lAutoGetStoreEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoGetStore",
			bookstore.EncodeGrpcReqStore,
			bookstore.DecodeGrpcRespStore,
			&bookstore.Store{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoGetStoreEndpoint = trace.ClientEndPoint("BookstoreV1:AutoGetStore")(lAutoGetStoreEndpoint)
	}
	var lAutoListBookEndpoint endpoint.Endpoint
	{
		lAutoListBookEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoListBook",
			bookstore.EncodeGrpcReqListWatchOptions,
			bookstore.DecodeGrpcRespBookList,
			&bookstore.BookList{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoListBookEndpoint = trace.ClientEndPoint("BookstoreV1:AutoListBook")(lAutoListBookEndpoint)
	}
	var lAutoListCouponEndpoint endpoint.Endpoint
	{
		lAutoListCouponEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoListCoupon",
			bookstore.EncodeGrpcReqListWatchOptions,
			bookstore.DecodeGrpcRespCouponList,
			&bookstore.CouponList{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoListCouponEndpoint = trace.ClientEndPoint("BookstoreV1:AutoListCoupon")(lAutoListCouponEndpoint)
	}
	var lAutoListOrderEndpoint endpoint.Endpoint
	{
		lAutoListOrderEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoListOrder",
			bookstore.EncodeGrpcReqListWatchOptions,
			bookstore.DecodeGrpcRespOrderList,
			&bookstore.OrderList{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoListOrderEndpoint = trace.ClientEndPoint("BookstoreV1:AutoListOrder")(lAutoListOrderEndpoint)
	}
	var lAutoListPublisherEndpoint endpoint.Endpoint
	{
		lAutoListPublisherEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoListPublisher",
			bookstore.EncodeGrpcReqListWatchOptions,
			bookstore.DecodeGrpcRespPublisherList,
			&bookstore.PublisherList{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoListPublisherEndpoint = trace.ClientEndPoint("BookstoreV1:AutoListPublisher")(lAutoListPublisherEndpoint)
	}
	var lAutoListStoreEndpoint endpoint.Endpoint
	{
		lAutoListStoreEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoListStore",
			bookstore.EncodeGrpcReqListWatchOptions,
			bookstore.DecodeGrpcRespStoreList,
			&bookstore.StoreList{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoListStoreEndpoint = trace.ClientEndPoint("BookstoreV1:AutoListStore")(lAutoListStoreEndpoint)
	}
	var lAutoUpdateBookEndpoint endpoint.Endpoint
	{
		lAutoUpdateBookEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoUpdateBook",
			bookstore.EncodeGrpcReqBook,
			bookstore.DecodeGrpcRespBook,
			&bookstore.Book{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoUpdateBookEndpoint = trace.ClientEndPoint("BookstoreV1:AutoUpdateBook")(lAutoUpdateBookEndpoint)
	}
	var lAutoUpdateCouponEndpoint endpoint.Endpoint
	{
		lAutoUpdateCouponEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoUpdateCoupon",
			bookstore.EncodeGrpcReqCoupon,
			bookstore.DecodeGrpcRespCoupon,
			&bookstore.Coupon{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoUpdateCouponEndpoint = trace.ClientEndPoint("BookstoreV1:AutoUpdateCoupon")(lAutoUpdateCouponEndpoint)
	}
	var lAutoUpdateOrderEndpoint endpoint.Endpoint
	{
		lAutoUpdateOrderEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoUpdateOrder",
			bookstore.EncodeGrpcReqOrder,
			bookstore.DecodeGrpcRespOrder,
			&bookstore.Order{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoUpdateOrderEndpoint = trace.ClientEndPoint("BookstoreV1:AutoUpdateOrder")(lAutoUpdateOrderEndpoint)
	}
	var lAutoUpdatePublisherEndpoint endpoint.Endpoint
	{
		lAutoUpdatePublisherEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoUpdatePublisher",
			bookstore.EncodeGrpcReqPublisher,
			bookstore.DecodeGrpcRespPublisher,
			&bookstore.Publisher{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoUpdatePublisherEndpoint = trace.ClientEndPoint("BookstoreV1:AutoUpdatePublisher")(lAutoUpdatePublisherEndpoint)
	}
	var lAutoUpdateStoreEndpoint endpoint.Endpoint
	{
		lAutoUpdateStoreEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"AutoUpdateStore",
			bookstore.EncodeGrpcReqStore,
			bookstore.DecodeGrpcRespStore,
			&bookstore.Store{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lAutoUpdateStoreEndpoint = trace.ClientEndPoint("BookstoreV1:AutoUpdateStore")(lAutoUpdateStoreEndpoint)
	}
	var lCleardiscountEndpoint endpoint.Endpoint
	{
		lCleardiscountEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"Cleardiscount",
			bookstore.EncodeGrpcReqApplyDiscountReq,
			bookstore.DecodeGrpcRespOrder,
			&bookstore.Order{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lCleardiscountEndpoint = trace.ClientEndPoint("BookstoreV1:Cleardiscount")(lCleardiscountEndpoint)
	}
	var lRestockEndpoint endpoint.Endpoint
	{
		lRestockEndpoint = grpctransport.NewClient(
			conn,
			"bookstore.BookstoreV1",
			"Restock",
			bookstore.EncodeGrpcReqRestockRequest,
			bookstore.DecodeGrpcRespRestockResponse,
			&bookstore.RestockResponse{},
			grpctransport.ClientBefore(trace.ToGRPCRequest(logger)),
			grpctransport.ClientBefore(dummyBefore),
		).Endpoint()
		lRestockEndpoint = trace.ClientEndPoint("BookstoreV1:Restock")(lRestockEndpoint)
	}
	return bookstore.EndpointsBookstoreV1Client{
		Client: bookstore.NewBookstoreV1Client(conn),

		AddOutageEndpoint:           lAddOutageEndpoint,
		ApplydiscountEndpoint:       lApplydiscountEndpoint,
		AutoAddBookEndpoint:         lAutoAddBookEndpoint,
		AutoAddCouponEndpoint:       lAutoAddCouponEndpoint,
		AutoAddOrderEndpoint:        lAutoAddOrderEndpoint,
		AutoAddPublisherEndpoint:    lAutoAddPublisherEndpoint,
		AutoAddStoreEndpoint:        lAutoAddStoreEndpoint,
		AutoDeleteBookEndpoint:      lAutoDeleteBookEndpoint,
		AutoDeleteCouponEndpoint:    lAutoDeleteCouponEndpoint,
		AutoDeleteOrderEndpoint:     lAutoDeleteOrderEndpoint,
		AutoDeletePublisherEndpoint: lAutoDeletePublisherEndpoint,
		AutoDeleteStoreEndpoint:     lAutoDeleteStoreEndpoint,
		AutoGetBookEndpoint:         lAutoGetBookEndpoint,
		AutoGetCouponEndpoint:       lAutoGetCouponEndpoint,
		AutoGetOrderEndpoint:        lAutoGetOrderEndpoint,
		AutoGetPublisherEndpoint:    lAutoGetPublisherEndpoint,
		AutoGetStoreEndpoint:        lAutoGetStoreEndpoint,
		AutoListBookEndpoint:        lAutoListBookEndpoint,
		AutoListCouponEndpoint:      lAutoListCouponEndpoint,
		AutoListOrderEndpoint:       lAutoListOrderEndpoint,
		AutoListPublisherEndpoint:   lAutoListPublisherEndpoint,
		AutoListStoreEndpoint:       lAutoListStoreEndpoint,
		AutoUpdateBookEndpoint:      lAutoUpdateBookEndpoint,
		AutoUpdateCouponEndpoint:    lAutoUpdateCouponEndpoint,
		AutoUpdateOrderEndpoint:     lAutoUpdateOrderEndpoint,
		AutoUpdatePublisherEndpoint: lAutoUpdatePublisherEndpoint,
		AutoUpdateStoreEndpoint:     lAutoUpdateStoreEndpoint,
		CleardiscountEndpoint:       lCleardiscountEndpoint,
		RestockEndpoint:             lRestockEndpoint,
	}
}

// NewBookstoreV1Backend creates an instrumented client with middleware
func NewBookstoreV1Backend(conn *grpc.ClientConn, logger log.Logger) bookstore.ServiceBookstoreV1Client {
	cl := NewBookstoreV1(conn, logger)
	cl = bookstore.LoggingBookstoreV1MiddlewareClient(logger)(cl)
	return cl
}

type grpcObjBookstoreV1Order struct {
	logger log.Logger
	client bookstore.ServiceBookstoreV1Client
}

func (a *grpcObjBookstoreV1Order) Create(ctx context.Context, in *bookstore.Order) (*bookstore.Order, error) {
	a.logger.DebugLog("msg", "received call", "object", "Order", "oper", "create")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AutoAddOrder(nctx, in)
}

func (a *grpcObjBookstoreV1Order) Update(ctx context.Context, in *bookstore.Order) (*bookstore.Order, error) {
	a.logger.DebugLog("msg", "received call", "object", "Order", "oper", "update")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AutoUpdateOrder(nctx, in)
}

func (a *grpcObjBookstoreV1Order) Get(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Order, error) {
	a.logger.DebugLog("msg", "received call", "object", "Order", "oper", "get")
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Order{}
	in.ObjectMeta = *objMeta
	nctx := addVersion(ctx, "v1")
	return a.client.AutoGetOrder(nctx, &in)
}

func (a *grpcObjBookstoreV1Order) Delete(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Order, error) {
	a.logger.DebugLog("msg", "received call", "object", "Order", "oper", "delete")
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Order{}
	in.ObjectMeta = *objMeta
	nctx := addVersion(ctx, "v1")
	return a.client.AutoDeleteOrder(nctx, &in)
}

func (a *grpcObjBookstoreV1Order) List(ctx context.Context, options *api.ListWatchOptions) ([]*bookstore.Order, error) {
	a.logger.DebugLog("msg", "received call", "object", "Order", "oper", "list")
	if options == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	r, err := a.client.AutoListOrder(nctx, options)
	if err == nil {
		return r.Items, nil
	}
	return nil, err
}

func (a *grpcObjBookstoreV1Order) Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error) {
	a.logger.DebugLog("msg", "received call", "object", "Order", "oper", "WatchOper")
	nctx := addVersion(ctx, "v1")
	if options == nil {
		return nil, errors.New("invalid input")
	}
	stream, err := a.client.AutoWatchOrder(nctx, options)
	if err != nil {
		return nil, err
	}
	wstream := stream.(bookstore.BookstoreV1_AutoWatchOrderClient)
	bridgefn := func(lw *listerwatcher.WatcherClient) {
		for {
			r, err := wstream.Recv()
			if err != nil {
				a.logger.ErrorLog("msg", "error on receive", "error", err)
				close(lw.OutCh)
				return
			}
			ev := kvstore.WatchEvent{
				Type:   kvstore.WatchEventType(r.Type),
				Object: r.Object,
			}
			select {
			case lw.OutCh <- &ev:
			case <-wstream.Context().Done():
				close(lw.OutCh)
				return
			}
		}
	}
	lw := listerwatcher.NewWatcherClient(wstream, bridgefn)
	lw.Run()
	return lw, nil
}

func (a *grpcObjBookstoreV1Order) Applydiscount(ctx context.Context, in *bookstore.ApplyDiscountReq) (*bookstore.Order, error) {
	a.logger.DebugLog("msg", "received call", "object", "{Applydiscount ApplyDiscountReq Order}", "oper", "Applydiscount")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.Applydiscount(nctx, in)
}

func (a *grpcObjBookstoreV1Order) Cleardiscount(ctx context.Context, in *bookstore.ApplyDiscountReq) (*bookstore.Order, error) {
	a.logger.DebugLog("msg", "received call", "object", "{Cleardiscount ApplyDiscountReq Order}", "oper", "Cleardiscount")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.Cleardiscount(nctx, in)
}

func (a *grpcObjBookstoreV1Order) Allowed(oper apiserver.APIOperType) bool {
	return true
}

type restObjBookstoreV1Order struct {
	endpoints bookstore.EndpointsBookstoreV1RestClient
	instance  string
}

func (a *restObjBookstoreV1Order) Create(ctx context.Context, in *bookstore.Order) (*bookstore.Order, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AutoAddOrder(ctx, in)
}

func (a *restObjBookstoreV1Order) Update(ctx context.Context, in *bookstore.Order) (*bookstore.Order, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AutoUpdateOrder(ctx, in)
}

func (a *restObjBookstoreV1Order) Get(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Order, error) {
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Order{}
	in.ObjectMeta = *objMeta
	return a.endpoints.AutoGetOrder(ctx, &in)
}

func (a *restObjBookstoreV1Order) Delete(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Order, error) {
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Order{}
	in.ObjectMeta = *objMeta
	return a.endpoints.AutoDeleteOrder(ctx, &in)
}

func (a *restObjBookstoreV1Order) List(ctx context.Context, options *api.ListWatchOptions) ([]*bookstore.Order, error) {
	if options == nil {
		return nil, errors.New("invalid input")
	}
	r, err := a.endpoints.AutoListOrder(ctx, options)
	if err == nil {
		return r.Items, nil
	}
	return nil, err
}

func (a *restObjBookstoreV1Order) Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error) {
	return nil, errors.New("not allowed")
}

func (a *restObjBookstoreV1Order) Allowed(oper apiserver.APIOperType) bool {
	switch oper {
	case apiserver.CreateOper:
		return true
	case apiserver.UpdateOper:
		return true
	case apiserver.GetOper:
		return true
	case apiserver.DeleteOper:
		return true
	case apiserver.ListOper:
		return true
	case apiserver.WatchOper:
		return false
	default:
		return false
	}
}

func (a *restObjBookstoreV1Order) Applydiscount(ctx context.Context, in *bookstore.ApplyDiscountReq) (*bookstore.Order, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.ApplydiscountOrder(ctx, in)
}
func (a *restObjBookstoreV1Order) Cleardiscount(ctx context.Context, in *bookstore.ApplyDiscountReq) (*bookstore.Order, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.CleardiscountOrder(ctx, in)
}

type grpcObjBookstoreV1Book struct {
	logger log.Logger
	client bookstore.ServiceBookstoreV1Client
}

func (a *grpcObjBookstoreV1Book) Create(ctx context.Context, in *bookstore.Book) (*bookstore.Book, error) {
	a.logger.DebugLog("msg", "received call", "object", "Book", "oper", "create")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AutoAddBook(nctx, in)
}

func (a *grpcObjBookstoreV1Book) Update(ctx context.Context, in *bookstore.Book) (*bookstore.Book, error) {
	a.logger.DebugLog("msg", "received call", "object", "Book", "oper", "update")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AutoUpdateBook(nctx, in)
}

func (a *grpcObjBookstoreV1Book) Get(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Book, error) {
	a.logger.DebugLog("msg", "received call", "object", "Book", "oper", "get")
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Book{}
	in.ObjectMeta = *objMeta
	nctx := addVersion(ctx, "v1")
	return a.client.AutoGetBook(nctx, &in)
}

func (a *grpcObjBookstoreV1Book) Delete(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Book, error) {
	a.logger.DebugLog("msg", "received call", "object", "Book", "oper", "delete")
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Book{}
	in.ObjectMeta = *objMeta
	nctx := addVersion(ctx, "v1")
	return a.client.AutoDeleteBook(nctx, &in)
}

func (a *grpcObjBookstoreV1Book) List(ctx context.Context, options *api.ListWatchOptions) ([]*bookstore.Book, error) {
	a.logger.DebugLog("msg", "received call", "object", "Book", "oper", "list")
	if options == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	r, err := a.client.AutoListBook(nctx, options)
	if err == nil {
		return r.Items, nil
	}
	return nil, err
}

func (a *grpcObjBookstoreV1Book) Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error) {
	a.logger.DebugLog("msg", "received call", "object", "Book", "oper", "WatchOper")
	nctx := addVersion(ctx, "v1")
	if options == nil {
		return nil, errors.New("invalid input")
	}
	stream, err := a.client.AutoWatchBook(nctx, options)
	if err != nil {
		return nil, err
	}
	wstream := stream.(bookstore.BookstoreV1_AutoWatchBookClient)
	bridgefn := func(lw *listerwatcher.WatcherClient) {
		for {
			r, err := wstream.Recv()
			if err != nil {
				a.logger.ErrorLog("msg", "error on receive", "error", err)
				close(lw.OutCh)
				return
			}
			ev := kvstore.WatchEvent{
				Type:   kvstore.WatchEventType(r.Type),
				Object: r.Object,
			}
			select {
			case lw.OutCh <- &ev:
			case <-wstream.Context().Done():
				close(lw.OutCh)
				return
			}
		}
	}
	lw := listerwatcher.NewWatcherClient(wstream, bridgefn)
	lw.Run()
	return lw, nil
}

func (a *grpcObjBookstoreV1Book) Restock(ctx context.Context, in *bookstore.RestockRequest) (*bookstore.RestockResponse, error) {
	a.logger.DebugLog("msg", "received call", "object", "{Restock RestockRequest RestockResponse}", "oper", "Restock")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.Restock(nctx, in)
}

func (a *grpcObjBookstoreV1Book) Allowed(oper apiserver.APIOperType) bool {
	return true
}

type restObjBookstoreV1Book struct {
	endpoints bookstore.EndpointsBookstoreV1RestClient
	instance  string
}

func (a *restObjBookstoreV1Book) Create(ctx context.Context, in *bookstore.Book) (*bookstore.Book, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AutoAddBook(ctx, in)
}

func (a *restObjBookstoreV1Book) Update(ctx context.Context, in *bookstore.Book) (*bookstore.Book, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AutoUpdateBook(ctx, in)
}

func (a *restObjBookstoreV1Book) Get(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Book, error) {
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Book{}
	in.ObjectMeta = *objMeta
	return a.endpoints.AutoGetBook(ctx, &in)
}

func (a *restObjBookstoreV1Book) Delete(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Book, error) {
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Book{}
	in.ObjectMeta = *objMeta
	return a.endpoints.AutoDeleteBook(ctx, &in)
}

func (a *restObjBookstoreV1Book) List(ctx context.Context, options *api.ListWatchOptions) ([]*bookstore.Book, error) {
	if options == nil {
		return nil, errors.New("invalid input")
	}
	r, err := a.endpoints.AutoListBook(ctx, options)
	if err == nil {
		return r.Items, nil
	}
	return nil, err
}

func (a *restObjBookstoreV1Book) Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error) {
	return nil, errors.New("not allowed")
}

func (a *restObjBookstoreV1Book) Allowed(oper apiserver.APIOperType) bool {
	switch oper {
	case apiserver.CreateOper:
		return false
	case apiserver.UpdateOper:
		return true
	case apiserver.GetOper:
		return true
	case apiserver.DeleteOper:
		return false
	case apiserver.ListOper:
		return false
	case apiserver.WatchOper:
		return false
	default:
		return false
	}
}

func (a *restObjBookstoreV1Book) Restock(ctx context.Context, in *bookstore.RestockRequest) (*bookstore.RestockResponse, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.RestockBook(ctx, in)
}

type grpcObjBookstoreV1Publisher struct {
	logger log.Logger
	client bookstore.ServiceBookstoreV1Client
}

func (a *grpcObjBookstoreV1Publisher) Create(ctx context.Context, in *bookstore.Publisher) (*bookstore.Publisher, error) {
	a.logger.DebugLog("msg", "received call", "object", "Publisher", "oper", "create")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AutoAddPublisher(nctx, in)
}

func (a *grpcObjBookstoreV1Publisher) Update(ctx context.Context, in *bookstore.Publisher) (*bookstore.Publisher, error) {
	a.logger.DebugLog("msg", "received call", "object", "Publisher", "oper", "update")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AutoUpdatePublisher(nctx, in)
}

func (a *grpcObjBookstoreV1Publisher) Get(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Publisher, error) {
	a.logger.DebugLog("msg", "received call", "object", "Publisher", "oper", "get")
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Publisher{}
	in.ObjectMeta = *objMeta
	nctx := addVersion(ctx, "v1")
	return a.client.AutoGetPublisher(nctx, &in)
}

func (a *grpcObjBookstoreV1Publisher) Delete(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Publisher, error) {
	a.logger.DebugLog("msg", "received call", "object", "Publisher", "oper", "delete")
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Publisher{}
	in.ObjectMeta = *objMeta
	nctx := addVersion(ctx, "v1")
	return a.client.AutoDeletePublisher(nctx, &in)
}

func (a *grpcObjBookstoreV1Publisher) List(ctx context.Context, options *api.ListWatchOptions) ([]*bookstore.Publisher, error) {
	a.logger.DebugLog("msg", "received call", "object", "Publisher", "oper", "list")
	if options == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	r, err := a.client.AutoListPublisher(nctx, options)
	if err == nil {
		return r.Items, nil
	}
	return nil, err
}

func (a *grpcObjBookstoreV1Publisher) Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error) {
	a.logger.DebugLog("msg", "received call", "object", "Publisher", "oper", "WatchOper")
	nctx := addVersion(ctx, "v1")
	if options == nil {
		return nil, errors.New("invalid input")
	}
	stream, err := a.client.AutoWatchPublisher(nctx, options)
	if err != nil {
		return nil, err
	}
	wstream := stream.(bookstore.BookstoreV1_AutoWatchPublisherClient)
	bridgefn := func(lw *listerwatcher.WatcherClient) {
		for {
			r, err := wstream.Recv()
			if err != nil {
				a.logger.ErrorLog("msg", "error on receive", "error", err)
				close(lw.OutCh)
				return
			}
			ev := kvstore.WatchEvent{
				Type:   kvstore.WatchEventType(r.Type),
				Object: r.Object,
			}
			select {
			case lw.OutCh <- &ev:
			case <-wstream.Context().Done():
				close(lw.OutCh)
				return
			}
		}
	}
	lw := listerwatcher.NewWatcherClient(wstream, bridgefn)
	lw.Run()
	return lw, nil
}

func (a *grpcObjBookstoreV1Publisher) Allowed(oper apiserver.APIOperType) bool {
	return true
}

type restObjBookstoreV1Publisher struct {
	endpoints bookstore.EndpointsBookstoreV1RestClient
	instance  string
}

func (a *restObjBookstoreV1Publisher) Create(ctx context.Context, in *bookstore.Publisher) (*bookstore.Publisher, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AutoAddPublisher(ctx, in)
}

func (a *restObjBookstoreV1Publisher) Update(ctx context.Context, in *bookstore.Publisher) (*bookstore.Publisher, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AutoUpdatePublisher(ctx, in)
}

func (a *restObjBookstoreV1Publisher) Get(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Publisher, error) {
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Publisher{}
	in.ObjectMeta = *objMeta
	return a.endpoints.AutoGetPublisher(ctx, &in)
}

func (a *restObjBookstoreV1Publisher) Delete(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Publisher, error) {
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Publisher{}
	in.ObjectMeta = *objMeta
	return a.endpoints.AutoDeletePublisher(ctx, &in)
}

func (a *restObjBookstoreV1Publisher) List(ctx context.Context, options *api.ListWatchOptions) ([]*bookstore.Publisher, error) {
	if options == nil {
		return nil, errors.New("invalid input")
	}
	r, err := a.endpoints.AutoListPublisher(ctx, options)
	if err == nil {
		return r.Items, nil
	}
	return nil, err
}

func (a *restObjBookstoreV1Publisher) Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error) {
	return nil, errors.New("not allowed")
}

func (a *restObjBookstoreV1Publisher) Allowed(oper apiserver.APIOperType) bool {
	switch oper {
	case apiserver.CreateOper:
		return false
	case apiserver.UpdateOper:
		return false
	case apiserver.GetOper:
		return false
	case apiserver.DeleteOper:
		return false
	case apiserver.ListOper:
		return false
	case apiserver.WatchOper:
		return false
	default:
		return false
	}
}

type grpcObjBookstoreV1Store struct {
	logger log.Logger
	client bookstore.ServiceBookstoreV1Client
}

func (a *grpcObjBookstoreV1Store) Create(ctx context.Context, in *bookstore.Store) (*bookstore.Store, error) {
	a.logger.DebugLog("msg", "received call", "object", "Store", "oper", "create")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AutoAddStore(nctx, in)
}

func (a *grpcObjBookstoreV1Store) Update(ctx context.Context, in *bookstore.Store) (*bookstore.Store, error) {
	a.logger.DebugLog("msg", "received call", "object", "Store", "oper", "update")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AutoUpdateStore(nctx, in)
}

func (a *grpcObjBookstoreV1Store) Get(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Store, error) {
	a.logger.DebugLog("msg", "received call", "object", "Store", "oper", "get")
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Store{}
	in.ObjectMeta = *objMeta
	nctx := addVersion(ctx, "v1")
	return a.client.AutoGetStore(nctx, &in)
}

func (a *grpcObjBookstoreV1Store) Delete(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Store, error) {
	a.logger.DebugLog("msg", "received call", "object", "Store", "oper", "delete")
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Store{}
	in.ObjectMeta = *objMeta
	nctx := addVersion(ctx, "v1")
	return a.client.AutoDeleteStore(nctx, &in)
}

func (a *grpcObjBookstoreV1Store) List(ctx context.Context, options *api.ListWatchOptions) ([]*bookstore.Store, error) {
	a.logger.DebugLog("msg", "received call", "object", "Store", "oper", "list")
	if options == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	r, err := a.client.AutoListStore(nctx, options)
	if err == nil {
		return r.Items, nil
	}
	return nil, err
}

func (a *grpcObjBookstoreV1Store) Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error) {
	a.logger.DebugLog("msg", "received call", "object", "Store", "oper", "WatchOper")
	nctx := addVersion(ctx, "v1")
	if options == nil {
		return nil, errors.New("invalid input")
	}
	stream, err := a.client.AutoWatchStore(nctx, options)
	if err != nil {
		return nil, err
	}
	wstream := stream.(bookstore.BookstoreV1_AutoWatchStoreClient)
	bridgefn := func(lw *listerwatcher.WatcherClient) {
		for {
			r, err := wstream.Recv()
			if err != nil {
				a.logger.ErrorLog("msg", "error on receive", "error", err)
				close(lw.OutCh)
				return
			}
			ev := kvstore.WatchEvent{
				Type:   kvstore.WatchEventType(r.Type),
				Object: r.Object,
			}
			select {
			case lw.OutCh <- &ev:
			case <-wstream.Context().Done():
				close(lw.OutCh)
				return
			}
		}
	}
	lw := listerwatcher.NewWatcherClient(wstream, bridgefn)
	lw.Run()
	return lw, nil
}

func (a *grpcObjBookstoreV1Store) AddOutage(ctx context.Context, in *bookstore.OutageRequest) (*bookstore.Store, error) {
	a.logger.DebugLog("msg", "received call", "object", "{AddOutage OutageRequest Store}", "oper", "AddOutage")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AddOutage(nctx, in)
}

func (a *grpcObjBookstoreV1Store) Allowed(oper apiserver.APIOperType) bool {
	return true
}

type restObjBookstoreV1Store struct {
	endpoints bookstore.EndpointsBookstoreV1RestClient
	instance  string
}

func (a *restObjBookstoreV1Store) Create(ctx context.Context, in *bookstore.Store) (*bookstore.Store, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AutoAddStore(ctx, in)
}

func (a *restObjBookstoreV1Store) Update(ctx context.Context, in *bookstore.Store) (*bookstore.Store, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AutoUpdateStore(ctx, in)
}

func (a *restObjBookstoreV1Store) Get(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Store, error) {
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Store{}
	in.ObjectMeta = *objMeta
	return a.endpoints.AutoGetStore(ctx, &in)
}

func (a *restObjBookstoreV1Store) Delete(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Store, error) {
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Store{}
	in.ObjectMeta = *objMeta
	return a.endpoints.AutoDeleteStore(ctx, &in)
}

func (a *restObjBookstoreV1Store) List(ctx context.Context, options *api.ListWatchOptions) ([]*bookstore.Store, error) {
	if options == nil {
		return nil, errors.New("invalid input")
	}
	r, err := a.endpoints.AutoListStore(ctx, options)
	if err == nil {
		return r.Items, nil
	}
	return nil, err
}

func (a *restObjBookstoreV1Store) Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error) {
	return nil, errors.New("not allowed")
}

func (a *restObjBookstoreV1Store) Allowed(oper apiserver.APIOperType) bool {
	switch oper {
	case apiserver.CreateOper:
		return true
	case apiserver.UpdateOper:
		return true
	case apiserver.GetOper:
		return true
	case apiserver.DeleteOper:
		return true
	case apiserver.ListOper:
		return false
	case apiserver.WatchOper:
		return false
	default:
		return false
	}
}

func (a *restObjBookstoreV1Store) AddOutage(ctx context.Context, in *bookstore.OutageRequest) (*bookstore.Store, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AddOutageStore(ctx, in)
}

type grpcObjBookstoreV1Coupon struct {
	logger log.Logger
	client bookstore.ServiceBookstoreV1Client
}

func (a *grpcObjBookstoreV1Coupon) Create(ctx context.Context, in *bookstore.Coupon) (*bookstore.Coupon, error) {
	a.logger.DebugLog("msg", "received call", "object", "Coupon", "oper", "create")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AutoAddCoupon(nctx, in)
}

func (a *grpcObjBookstoreV1Coupon) Update(ctx context.Context, in *bookstore.Coupon) (*bookstore.Coupon, error) {
	a.logger.DebugLog("msg", "received call", "object", "Coupon", "oper", "update")
	if in == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	return a.client.AutoUpdateCoupon(nctx, in)
}

func (a *grpcObjBookstoreV1Coupon) Get(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Coupon, error) {
	a.logger.DebugLog("msg", "received call", "object", "Coupon", "oper", "get")
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Coupon{}
	in.ObjectMeta = *objMeta
	nctx := addVersion(ctx, "v1")
	return a.client.AutoGetCoupon(nctx, &in)
}

func (a *grpcObjBookstoreV1Coupon) Delete(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Coupon, error) {
	a.logger.DebugLog("msg", "received call", "object", "Coupon", "oper", "delete")
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Coupon{}
	in.ObjectMeta = *objMeta
	nctx := addVersion(ctx, "v1")
	return a.client.AutoDeleteCoupon(nctx, &in)
}

func (a *grpcObjBookstoreV1Coupon) List(ctx context.Context, options *api.ListWatchOptions) ([]*bookstore.Coupon, error) {
	a.logger.DebugLog("msg", "received call", "object", "Coupon", "oper", "list")
	if options == nil {
		return nil, errors.New("invalid input")
	}
	nctx := addVersion(ctx, "v1")
	r, err := a.client.AutoListCoupon(nctx, options)
	if err == nil {
		return r.Items, nil
	}
	return nil, err
}

func (a *grpcObjBookstoreV1Coupon) Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error) {
	a.logger.DebugLog("msg", "received call", "object", "Coupon", "oper", "WatchOper")
	nctx := addVersion(ctx, "v1")
	if options == nil {
		return nil, errors.New("invalid input")
	}
	stream, err := a.client.AutoWatchCoupon(nctx, options)
	if err != nil {
		return nil, err
	}
	wstream := stream.(bookstore.BookstoreV1_AutoWatchCouponClient)
	bridgefn := func(lw *listerwatcher.WatcherClient) {
		for {
			r, err := wstream.Recv()
			if err != nil {
				a.logger.ErrorLog("msg", "error on receive", "error", err)
				close(lw.OutCh)
				return
			}
			ev := kvstore.WatchEvent{
				Type:   kvstore.WatchEventType(r.Type),
				Object: r.Object,
			}
			select {
			case lw.OutCh <- &ev:
			case <-wstream.Context().Done():
				close(lw.OutCh)
				return
			}
		}
	}
	lw := listerwatcher.NewWatcherClient(wstream, bridgefn)
	lw.Run()
	return lw, nil
}

func (a *grpcObjBookstoreV1Coupon) Allowed(oper apiserver.APIOperType) bool {
	return true
}

type restObjBookstoreV1Coupon struct {
	endpoints bookstore.EndpointsBookstoreV1RestClient
	instance  string
}

func (a *restObjBookstoreV1Coupon) Create(ctx context.Context, in *bookstore.Coupon) (*bookstore.Coupon, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AutoAddCoupon(ctx, in)
}

func (a *restObjBookstoreV1Coupon) Update(ctx context.Context, in *bookstore.Coupon) (*bookstore.Coupon, error) {
	if in == nil {
		return nil, errors.New("invalid input")
	}
	return a.endpoints.AutoUpdateCoupon(ctx, in)
}

func (a *restObjBookstoreV1Coupon) Get(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Coupon, error) {
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Coupon{}
	in.ObjectMeta = *objMeta
	return a.endpoints.AutoGetCoupon(ctx, &in)
}

func (a *restObjBookstoreV1Coupon) Delete(ctx context.Context, objMeta *api.ObjectMeta) (*bookstore.Coupon, error) {
	if objMeta == nil {
		return nil, errors.New("invalid input")
	}
	in := bookstore.Coupon{}
	in.ObjectMeta = *objMeta
	return a.endpoints.AutoDeleteCoupon(ctx, &in)
}

func (a *restObjBookstoreV1Coupon) List(ctx context.Context, options *api.ListWatchOptions) ([]*bookstore.Coupon, error) {
	if options == nil {
		return nil, errors.New("invalid input")
	}
	r, err := a.endpoints.AutoListCoupon(ctx, options)
	if err == nil {
		return r.Items, nil
	}
	return nil, err
}

func (a *restObjBookstoreV1Coupon) Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error) {
	return nil, errors.New("not allowed")
}

func (a *restObjBookstoreV1Coupon) Allowed(oper apiserver.APIOperType) bool {
	switch oper {
	case apiserver.CreateOper:
		return false
	case apiserver.UpdateOper:
		return false
	case apiserver.GetOper:
		return false
	case apiserver.DeleteOper:
		return false
	case apiserver.ListOper:
		return false
	case apiserver.WatchOper:
		return false
	default:
		return false
	}
}

type crudClientBookstoreV1 struct {
	grpcOrder     bookstore.BookstoreV1OrderInterface
	grpcBook      bookstore.BookstoreV1BookInterface
	grpcPublisher bookstore.BookstoreV1PublisherInterface
	grpcStore     bookstore.BookstoreV1StoreInterface
	grpcCoupon    bookstore.BookstoreV1CouponInterface
}

// NewGrpcCrudClientBookstoreV1 creates a GRPC client for the service
func NewGrpcCrudClientBookstoreV1(conn *grpc.ClientConn, logger log.Logger) bookstore.BookstoreV1Interface {
	client := NewBookstoreV1Backend(conn, logger)
	return &crudClientBookstoreV1{

		grpcOrder:     &grpcObjBookstoreV1Order{client: client, logger: logger},
		grpcBook:      &grpcObjBookstoreV1Book{client: client, logger: logger},
		grpcPublisher: &grpcObjBookstoreV1Publisher{client: client, logger: logger},
		grpcStore:     &grpcObjBookstoreV1Store{client: client, logger: logger},
		grpcCoupon:    &grpcObjBookstoreV1Coupon{client: client, logger: logger},
	}
}

func (a *crudClientBookstoreV1) Order() bookstore.BookstoreV1OrderInterface {
	return a.grpcOrder
}

func (a *crudClientBookstoreV1) Book() bookstore.BookstoreV1BookInterface {
	return a.grpcBook
}

func (a *crudClientBookstoreV1) Publisher() bookstore.BookstoreV1PublisherInterface {
	return a.grpcPublisher
}

func (a *crudClientBookstoreV1) Store() bookstore.BookstoreV1StoreInterface {
	return a.grpcStore
}

func (a *crudClientBookstoreV1) Coupon() bookstore.BookstoreV1CouponInterface {
	return a.grpcCoupon
}

type crudRestClientBookstoreV1 struct {
	restOrder     bookstore.BookstoreV1OrderInterface
	restBook      bookstore.BookstoreV1BookInterface
	restPublisher bookstore.BookstoreV1PublisherInterface
	restStore     bookstore.BookstoreV1StoreInterface
	restCoupon    bookstore.BookstoreV1CouponInterface
}

// NewRestCrudClientBookstoreV1 creates a REST client for the service.
func NewRestCrudClientBookstoreV1(url string) bookstore.BookstoreV1Interface {
	endpoints, err := bookstore.MakeBookstoreV1RestClientEndpoints(url)
	if err != nil {
		oldlog.Fatal("failed to create client")
	}
	return &crudRestClientBookstoreV1{

		restOrder:     &restObjBookstoreV1Order{endpoints: endpoints, instance: url},
		restBook:      &restObjBookstoreV1Book{endpoints: endpoints, instance: url},
		restPublisher: &restObjBookstoreV1Publisher{endpoints: endpoints, instance: url},
		restStore:     &restObjBookstoreV1Store{endpoints: endpoints, instance: url},
		restCoupon:    &restObjBookstoreV1Coupon{endpoints: endpoints, instance: url},
	}
}

func (a *crudRestClientBookstoreV1) Order() bookstore.BookstoreV1OrderInterface {
	return a.restOrder
}

func (a *crudRestClientBookstoreV1) Book() bookstore.BookstoreV1BookInterface {
	return a.restBook
}

func (a *crudRestClientBookstoreV1) Publisher() bookstore.BookstoreV1PublisherInterface {
	return a.restPublisher
}

func (a *crudRestClientBookstoreV1) Store() bookstore.BookstoreV1StoreInterface {
	return a.restStore
}

func (a *crudRestClientBookstoreV1) Coupon() bookstore.BookstoreV1CouponInterface {
	return a.restCoupon
}
