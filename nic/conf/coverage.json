{
    "modules": {
        "hal": {
            "dirs": [
                "hal",
                "fte",
                "gen",
                "utils",
                "proto",
                "agents"
            ],
            "exclude_dirs" : [
               "hal/test",
               "fte/test",
               "hal/pd/iris/test/rw_tbl_lib",
               "hal/pd/utils/acl_tcam/test",
               "hal/pd/utils/directmap/test",
               "hal/pd/utils/hash/test",
               "hal/pd/utils/met/test",
               "hal/pd/utils/tcam/test",
               "hal/pd/utils/p4pd_mock",
               "hal/test",
               "hal/test/gtests",
               "model_sim/include",
               "utils/shm/test",
               "utils/slab/test",
               "utils/twheel/test",
               "utils/pt/test",
               "utils/list/test",
               "utils/indexer/test",
               "utils/host_mem/test",
               "gen/test_results",
               "gen/protobuf",
               "gen/common_rxdma_actions",
               "gen/common_txdma_actions",
               "gen/coverage"
            ],
            "file_patterns": [
                ".c",
                ".cc"
            ],
            "build_cmd": "make V=1 GCOV=\"--coverage -DCOVERAGE\" -j8",
            "clean_cmd" : "make clean",
            "remove_files": [
               "/usr/include/*",
                "/usr/local/*",
                "third-party/*",
                "model_sim/include/*",
                "gen/protobuf/*",
                "asic/capri/model/capsim-master/lib/libmpuobj/include/*",
                "asic/capri/model/utils/*"
            ],
            "gcno_dir" : "obj"
        },
        "model": {
            "dirs": [
                "asic/capri/model"
            ],
            "file_patterns": [
                ".c",
                ".cc"
            ],
            "build_cmd": "./build_model.sh --coverage && cd model_sim/build && make coverage",
            "clean_cmd": "./build_model.sh --clean && cd model_sim/build  && make clean",
            "remove_files": [
                "/usr/include/*",
                "/usr/local/*"
            ],
            "obj_dir" : "asic_gen"
        }
    },
    "run": {
        "gtests": {
            "cmd": "make gtest",
            "modules": [
                "hal"
            ]
        },
        "dol": {
            "cmd_cfg": "./gen/coverage/dol_cov_runs.json",
            "modules": [
                "hal", "model"
            ]
        }
    }
}
