// Code generated by protoc-gen-grpc-pensando DO NOT EDIT.

/*
Package {{.GoPkg.Name}} is a auto generated package.
Input file: {{.Name}}
*/
package restapi
import (
"github.com/pensando/sw/venice/ctrler/tpa/metrics/protos"
. "github.com/pensando/sw/venice/utils/testutils"
)

{{range .Services}}
    {{$svcname := .Name}}
    {{if (hasExtension "venice.naplesRestService" .)}}
       {{$params := (getRestSvcOptions .)}}

       {{range $params}}
           {{$crudObject := .CrudObject}}
           {{$pattern := .Pattern}}
           {{$methods := .Methods}}
           {{range $methods}}
                {{if strEq . "list"}}
                    func Test{{title $crudObject}}{{title .}}(t *testing.T){
                        t.Parallel()
                        var {{lower $crudObject}}{{title .}} []*metricsprotos.{{title $crudObject}}
                        err := netutils.HTTPGet("http://"+agentRestURL+"/api/telemetry/metrics/", &{{lower $crudObject}}{{title .}} )
                        AssertOk(t, err, "Error getting {{lower $crudObject}}s from the REST Server")
                    }
                {{end}}
           {{end}}


      {{end}}
   {{end}}
{{end}}
