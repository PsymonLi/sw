---
targets:
  main: ["sh", "-c", "cd /sw && make pull-assets && cd nic && make bazel-build && make bazel-gtests && make run-gtests" ]
  def:  ["sh", "-c", "cd /sw && make pull-assets && cd nic && make bazel-build && ./run.py" ]
  fte:  ["sh", "-c", "cd /sw && make pull-assets && cd nic && make bazel-build && ./run.py --topo fte --modlist test/networking/fte.mlist" ]
  norm: ["sh", "-c", "cd /sw && make pull-assets && cd nic && make bazel-build && ./run.py --topo norm --modlist test/normalization/norm.mlist" ]
  eth:  ["sh", "-c", "cd /sw && make pull-assets && cd nic && make bazel-build && ./run.py --topo eth --feature eth" ]
cache:
  name: "sw"
  mount_dir: "/root/.cache"
image:
  name: "pensando/nic"
  bind_dir: "/sw"
  work_dir: "/sw/nic"
rebase: true
