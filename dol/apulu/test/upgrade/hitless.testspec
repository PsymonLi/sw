# Test Spec for Hitless Upgrade configuration
selectors:
    root: ref://store/templates/id=UPGRADE
    maxlimits: 1
    upgrade: filter://any

session:
    - step                     :
        trigger                :
            configs            :
                - object       : ref://testcase/config/root
                  method       : SetupCfgFilesForUpgrade
                  fields       :
                    UpgMode    : hitless

                - object       : ref://testcase/config/root
                  method       : UpdateUpgradeMode
                  fields       :
                    UpgMode    : hitless

                - object       : ref://testcase/config/root
                  method       : TriggerUpgradeReq
            delay              : 10     #setup delay time for upgrade completion according to the mode
        expect                 :
            configs            :
                - object       : ref://testcase/config/root
                  method       : VerifyUpgradeStatus
                - object       : ref://testcase/config/root
                  method       : WaitForConfigReplayNotif

    - step                     :
        trigger                :
            configs            :
                - object       : ref://testcase/config/root
                  method       : TriggerCfgPushPostUpgrade
            delay              : 3
        expect                 :
            configs            :
                - object       : ref://testcase/config/root
                  method       : ValidateCfgPostUpgrade
