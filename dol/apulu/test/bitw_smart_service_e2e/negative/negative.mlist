# "Negative cases for network to host scenario in bitw smart service mode".
feature:
    id          : bitw_smart_service_e2e
    sub         : negative
    package     : test.bitw_smart_service_e2e
    module      : bitw_smart_service_e2e
    runorder    : 102
    enable      : True
    ignore      : False

modules:

    - module:
        name    : NEGATIVE_OUTER_TAG_PKT
        spec    : negative.testspec
        args    :
          input_pkt : INVALID_OUTER_TAG_PKT 
        iterate :
            - flow : filter://FlType=MAPPING,AddrFamily=IPV4,FwdMode=L2,Label=NETWORKING
              vnic : filter://VnicEncapType=qinq

    - module:
        name    : NEGATIVE_VXLAN_UNTAGGED_PKT
        spec    : negative.testspec
        args    :
          input_pkt : VXLAN_UNTAGGED_PKT 
        iterate :
            - flow : filter://FlType=MAPPING,AddrFamily=IPV4,FwdMode=L2,Label=NETWORKING
              vnic : filter://VnicEncapType=qinq

    - module:
        name    : NEGATIVE_UNTAGGED_PKT
        spec    : negative.testspec
        args    :
          input_pkt : UNTAGGED_PKT 
        iterate :
            - flow : filter://FlType=MAPPING,AddrFamily=IPV4,FwdMode=L2,Label=NETWORKING
              vnic : filter://VnicEncapType=qinq

    - module:
        name    : NEGATIVE_DOT1Q_PKT
        spec    : negative.testspec
        args    :
           input_pkt : INVALID_TAG_PKT
        iterate :
            - flow : filter://FlType=MAPPING,AddrFamily=IPV4,FwdMode=L2,Label=NETWORKING
              vnic : filter://VnicEncapType=dot1q
