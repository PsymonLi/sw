//------------------------------------------------------------------------------
// {C} Copyright 2018 Pensando Systems Inc. All rights reserved
//
// protobuf specification for policies served by metrics
//------------------------------------------------------------------------------

syntax = "proto3";
package metricsprotos;

// Mandatory imports.
import "google/api/annotations.proto";
import public "github.com/pensando/sw/venice/utils/apigen/annotations/includes.proto";
import "github.com/gogo/protobuf/gogoproto/gogo.proto";
import "github.com/pensando/sw/api/meta.proto";
import "github.com/pensando/sw/api/protos/telemetry.proto";

//================================ metrics ==========================================================

message MetricsSpec {
}

message MetricsStatus {

}

// Metrics stats Metrics object
message Metrics {
    api.TypeMeta        TypeMeta    = 1 [(gogoproto.embed) = true, (gogoproto.nullable) = false, (gogoproto.jsontag) = ",inline"];
    api.ObjectMeta      ObjectMeta  = 2 [(gogoproto.embed) = true, (gogoproto.nullable) = false, (gogoproto.jsontag) = "meta,omitempty"];
    MetricsSpec     Spec        = 3 [(gogoproto.nullable) = false, (gogoproto.jsontag) = "spec,omitempty"];
    MetricsStatus   Status      = 4 [(gogoproto.nullable) = false, (gogoproto.jsontag) = "status,omitempty"];
}

// MetricsApi REST interface for agent
service MetricsApi {
    // options for auto generating rest endpoints
    option(venice.naplesRestService) = {
        Object: "Metrics",
        Method: ["get", "list"],
        Pattern: "/{ObjectMeta.Tenant}/{ObjectMeta.Name}"
    };
}
