// Code generated by protoc-gen-grpc-pensando DO NOT EDIT.

package {{.GoPkg.Name}}
{{$pkgname := .GoPkg.Name}}
import (
    "context"

    "github.com/pensando/sw/venice/utils/kvstore"
	api "github.com/pensando/sw/api"
	"github.com/pensando/sw/api/interfaces"
	apiserver "github.com/pensando/sw/venice/apiserver"
)

// Dummy vars to suppress unused imports message
var _ context.Context
var _ api.ObjectMeta
var _ kvstore.Interface

{{range .Messages}}{{if isSpecStatusMessage .}}
const Kind{{.Name}} ObjKind = "{{.Name}}" {{end}}{{end}}

{{range .Services}}{{$svc := . }}{{$srvname := .Name}}{{if (hasExtension "venice.apiGrpcCrudService" .)}}{{$cruds := (getExtension "venice.apiGrpcCrudService" .)}}
{{$crudobjs := getSvcCrudObjects .}}{{range $crudobjs}}
// {{$srvname}}{{.}}Interface exposes the CRUD methods for {{.}}
type {{$srvname}}{{.}}Interface interface {
	Create(ctx context.Context, in *{{.}}) (*{{.}}, error)
	Update(ctx context.Context, in *{{.}}) (*{{.}}, error)
	UpdateStatus(ctx context.Context, in *{{.}}) (*{{.}}, error)
	Label(ctx context.Context, in *api.Label)  (*{{.}}, error)
	Get(ctx context.Context, objMeta *api.ObjectMeta) (*{{.}}, error)
	Delete(ctx context.Context, objMeta *api.ObjectMeta) (*{{.}}, error)
	List(ctx context.Context, options *api.ListWatchOptions) ([]*{{.}}, error)
	Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error)
	Allowed(oper apiintf.APIOperType) bool {{$actions := getSvcActionEndpoints $svc .}}{{range $actions}}
  {{.Name}}(ctx context.Context, in *{{.Request}}) (*{{.Response}}, error) {{end}}
}
{{end}}
// {{$srvname}}Interface exposes objects with CRUD operations allowed by the service
type {{$srvname}}Interface interface { {{range $cruds}}
    {{.}}() {{$srvname}}{{.}}Interface {{end}}
    Watch(ctx context.Context, options *api.ListWatchOptions) (kvstore.Watcher, error)
}
{{end}}{{end}}
