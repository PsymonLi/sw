<div class="dsbdhosts-card">
  <app-flip [flipState]="flipState">
    <ng-container flip-front *ngTemplateOutlet="cardFront"></ng-container>
  </app-flip>
</div>

<ng-template #cardFront>
  <app-basecard [title]="title" [backgroundIcon]="backgroundIcon" [backgroundIconCentered]="true"
                [themeColor]="themeColor"
                [icon]="icon" [timeRange]="''" [cardState]="cardState" [menuItems]="menuItems">
    <div fxFlex="100%" fxLayout="column">
      <div [@fade] *ngIf="cardState === cardStates.READY" fxFlex="70%" fxLayout="row"
           fxLayoutAlign="space-around stretch">
        <div fxFlex="nogrow">
          <div fxFlex="auto" fxLayout="column" fxLayoutAlign="center center"
               [matTooltip]="statData.tooltip"
               [style.cursor]="statData.url != null ? 'pointer' : 'auto'"
               (click)="statData.onClick != null ? statData.onClick() : ''" class="dsbdhosts-stat">
            <div fxFlex="nogrow" fxLayout="row">
              <div fxFlex="nogrow" [style.color]="statData.statColor" class="dsbdhosts-stat-value">
                {{ statData.value }}</div>
            </div>
            <div fxFlex="nogrow" class="dsbdhosts-stat-description">{{ statData.description }}</div>
          </div>
        </div>
      </div>
      <div [@fade] *ngIf="cardState === cardStates.READY" fxFlex="30%" fxLayout="column"
           fxLayoutAlign="end stretch" fxLayoutGap="5px">
        <div fxFlex="nogrow" fxLayout="row" fxLayoutAlign="space-between stretch">
          <div fxFlex="nogrow" class="dsbdhosts-update-text">
            Last Updated: {{ lastUpdateTime | PrettyDate }}
          </div>
        </div>
      </div>
    </div>
  </app-basecard>
</ng-template>
