<h1 id="mirrorsessions">Mirror Sessions</h1>
<p>Venice allows to send specific remote mirrored traffic to an external destination collector through ERSPAN format. Users can send the mirrored traffic to multiple collectors. To configure the mirror sessions, the following are the configuration parameters.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>Name of the object, unique within a Namespace for scoped objects. Should start and end in an alphanumeric character and can contain alphanumeric or ._- characters. minimum length is 2 and maximum length is 64 charactersmust start and end with alpha numeric and can have alphanumeric, -, _, .length of string should be between 2 and 64</td>
</tr>
<tr>
<td>Schedule</td>
<td>Allows user configuration on specific date and time</td>
</tr>
<tr>
<td>packet-size</td>
<td>PacketSize: Max size of a mirrored packet. PacketSize &#x3D; 0 indicates complete packet is mirrored, except when mirrored packets are sent to Venice. For packets mirrored to Venice, max mirror packet size allowed is 256 B</td>
</tr>
<tr>
<td>Packet Filters</td>
<td>Default is set to "All Packets"</td>
</tr>
</tbody>
</table>
<h5 id="collectors">Collectors</h5>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>Type of Collector <br> Valid options include:<br> - ERSPAN</td>
</tr>
<tr>
<td>destination</td>
<td>IP address of the collector/entity to which the data is to be exportedshould be a valid IPv4 address</td>
</tr>
</tbody>
</table>
<h6 id="interfaceselector">Interface Selector</h6>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>interface-selector</td>
<td>If specified, will pick up interface matching the selector</td>
</tr>
</tbody>
</table>
<h5 id="rules">Rules</h5>
<p>This is the filters to apply before sending packets. Packets will only be exported if they match these rules.</p>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>source</td>
<td>Either Src or Dst or both must be specified, both cannot be *. Src &#x3D; * when not specified. When Src is specified and resides on Pesnsando SmartNIC, matching pkts to/from src will be mirrored</td>
</tr>
<tr>
<td>destination</td>
<td>Dst &#x3D; * when not specified. When Dst is specified and resides on Pesnsando SmartNIC, matching pkts to/from dst will be mirrored</td>
</tr>
<tr>
<td>app-protocol-selectors</td>
<td>App &#x3D; * when not specified</td>
</tr>
</tbody>
</table>
<h2 id="example">Example:</h2>
<p><strong>Name:</strong> Trouleshoot_Session1</p>
<p><strong>Schedule:</strong> select date and time</p>
<p><strong>Packet Size:</strong> 1024</p>
<p><strong>Packet Filters:</strong> All Packets</p>
<p><strong>Collectors:</strong></p>
<pre><code>- Type: ERSPAN

- Destination: 10.29.30.21
</code></pre>
<p><strong>Interface Selectors:</strong></p>
<pre><code>- location

- equals

- HQ
</code></pre>
<p><strong>Rules:</strong></p>
<pre><code>- Source:
    - IP Address: 10.29.30.0/24
    - Mac Address:

- Target:
    - IP Address: 10.29.31.0/24
    - Mac Address:

- Protocol or App
    - Proto-Ports: tcp/80
    - Apps:
</code></pre>